# Read about fixtures at http://api.rubyonrails.org/classes/ActiveRecord/FixtureSet.html

<% i = 1 %>
<% while !(Time.zone.today.midnight + i.days).friday? %>
  <% i += 1 %>
<% end %>
<% delivery_date = Time.zone.today.midnight + i.days %>
<% delivery_date_next = delivery_date + 7.days %>

<% days_out_to_start = 14 %>
<% base_monday = Time.zone.today.midnight + days_out_to_start.days %>
<% i = 1 %>
<% while !(base_monday + i.days).monday? %>
  <% i += 1 %>
<% end %>
<% base_monday = Time.zone.today.midnight + days_out_to_start.days + i.days %>
<% wednesday_after_base_monday = base_monday + 2.days %>
<% friday_after_base_monday = wednesday_after_base_monday + 2.days %>
<% monday_after_base_monday = base_monday + 7.days %>

<% next_non_sunday_or_monday = Time.zone.now.midnight %>
<% if next_non_sunday_or_monday.sunday? %>
  <% next_non_sunday_or_monday = next_non_sunday_or_monday + 2.days %>
<% end %>
<% if next_non_sunday_or_monday.monday? %>
  <% next_non_sunday_or_monday = next_non_sunday_or_monday + 1.day %>
<% end %>

f9posting:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: apples
  price: 4
  user: f9
  unit: pound
  description_body: crispy apples
  live: true

#------------------------------------------------------------
f6posting:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: apples
  price: 1
  user: f6
  unit: pound
  description_body: crisp, crunchy organic apples. you'll love them.
  live: true

f7posting:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: asparagus
  price: 2
  user: f7
  unit: pound
  description_body: asparagus description_body...yum!
  live: true

f8posting:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: milk
  price: 4
  user: f8
  unit: gallon
  description_body: raw milk description_body
  live: true

#--------------------------------------------------------------
posting_subscription_farmer:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: apples
  price: 4.29
  user: f_subscriptions
  unit: pound
  description_body: crisp, crunchy organic apples. you'll love them.
  live: true

#--------------------------------------------------------------

postingf5apples:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: apples
  price: 4.29
  user: f5
  unit: pound
  description_body: crisp, crunchy organic apples. you'll love them.
  live: true

p_recurrence_off:
  delivery_date: <%= monday_after_base_monday + 7.days %>
  order_cutoff: <%= monday_after_base_monday + 5.days %>
  product: beef
  price: 5.21
  user: f2
  unit: pound
  description_body: beef description_body
  live: true  
  posting_recurrence: two

p_recurrence_on:
  delivery_date: <%= monday_after_base_monday + 7.days %>
  order_cutoff: <%= monday_after_base_monday + 5.days %>
  product: beef
  price: 5.21
  user: f2
  unit: pound
  description_body: beef description_body
  live: true  
  posting_recurrence: one

p_recurrence_three:
  delivery_date: <%= Time.zone.local(2016, 4, 26, 0, 0) %>
  order_cutoff: <%= Time.zone.local(2016, 4, 26, 0, 0) - 15.hours %>
  product: beef
  price: 5.21
  user: f2
  unit: pound
  description_body: beef description_body
  live: true  
  posting_recurrence: three

#--------------------------------------------------------------
p5:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>
  product: beef
  price: 5.21
  user: f2
  unit: pound
  description_body: beef description_body
  live: true  
#--------------------------------------------------------------

p1:
  delivery_date: <%= base_monday %>
  order_cutoff: <%= base_monday - 2.days %>
  product: apples
  price: 2.89
  user: f1
  unit: pound
  description_body: these apples are all organic grown with no pesticides. they are 2nds so might have some spotting but they are just as tasty and possibly more nutritious too.
  live: true  

p2:
  delivery_date: <%= wednesday_after_base_monday %>
  order_cutoff: <%= wednesday_after_base_monday - 2.days %>
  product: asparagus
  price: 2.74
  user: f1
  unit: pound
  description_body: asparagus description_body
  live: true  

p3:
  delivery_date: <%= friday_after_base_monday %>
  order_cutoff: <%= friday_after_base_monday - 2.days %>
  product: milk
  price: 5.00
  user: f2
  unit: gallon
  description_body: milk description_body
  live: true  

p4:
  delivery_date: <%= monday_after_base_monday %>
  order_cutoff: <%= monday_after_base_monday - 2.days %>
  product: beef
  price: 5.21
  user: f2
  unit: pound
  description_body: beef description_body
  live: true  

#Apples
postingf1apples:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>
  product: apples
  price: 2.75
  user: f1
  unit: pound
  description_body: these apples are all organic grown with no pesticides. they are 2nds so might have some spotting but they are just as tasty and possibly more nutritious too.
  live: true

#Asparagus
postingf1asparagus:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: asparagus
  price: 3.25
  user: f1
  unit: pound
  description_body: these Asparagus are all organic grown with no pesticides. they are crispy and crunchy and tasty as ever.
  live: true

#Lettuce
postingf1lettuce:
  delivery_date: <%= delivery_date_next %>
  order_cutoff: <%= delivery_date_next - 2.days %>  
  product: lettuce
  price: 4.25
  user: f1
  unit: pound
  description_body: delicious lettuce
  live: true

#Milk
postingf2milk:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: milk
  price: 2.00
  user: f2
  unit: gallon
  description_body: these milks are all organic grown with no pesticides. they are raw. no homogeneization. they are 2nds so might have some spotting but they are just as tasty and possibly more nutritious too.
  live: true

#Beef
postingf2beef:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: beef
  price: 3.75
  user: f2
  unit: quarter
  description_body: these beefs are all organic grown with no pesticides. they are crispy and crunchy and tasty as ever.
  live: true

#Tomato
postingf2tomato:
  delivery_date: <%= delivery_date_next %>
  order_cutoff: <%= delivery_date_next - 2.days %>  
  product: tomato
  price: 2.99
  user: f2
  unit: whole
  description_body: delicious tomato description_body
  live: true

#Carrots
postingf3carrots:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: carrots
  price: 2.25
  user: f3
  unit: pound
  description_body: yummy, crunchy carrots. tastiest ever!
  live: true

#Chicken
postingf3chicken:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: chicken
  price: 1.50
  user: f3
  unit: whole
  description_body: best whole chickens around. all grass fed on clean, organic fields. no antibiotics. no supplements. just lots of grass and all the bugs they can eat! :)
  live: true

#Oranges
postingf4oranges:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: oranges
  price: 1.25
  user: f4
  unit: pound
  description_body: best oranges ever!
  live: true

#Celery
postingf4celery:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: celery
  price: 2.50
  user: f4
  unit: pound
  description_body: best celery ever!
  live: true

#Avocado
postingf4avocado:
  delivery_date: <%= next_non_sunday_or_monday %>
  order_cutoff: <%= next_non_sunday_or_monday - 2.days %>
  product: avocado
  price: 2.97
  user: f4
  unit: whole
  description_body: best avocado ever!
  live: true

#Basil
postingf4basil:
  delivery_date: <%= next_non_sunday_or_monday %>
  order_cutoff: <%= next_non_sunday_or_monday - 2.days %>
  product: basil
  price: 2.27
  user: f4
  unit: bunch
  description_body: best basil ever!
  live: true

baron_farms_eggs:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: eggs
  price: 6.25
  user: baron_farms
  unit: whole
  description_body: pastured eggs
  live: true

pride_and_joy_milk:
  delivery_date: <%= delivery_date %>
  order_cutoff: <%= delivery_date - 2.days %>  
  product: milk
  price: 10.50
  user: pride_and_joy
  unit: gallon
  description_body: pastured organic raw milk
  live: true